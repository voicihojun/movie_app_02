(this.webpackJsonpmovie_app_02=this.webpackJsonpmovie_app_02||[]).push([[0],{46:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(20),s=n.n(i),r=n(21),o=n(5),j=n.n(o),l=n(10),u=n(3),d=n(7),b=(n(9),n(0));var h=function(e){var t=e.text,n=e.focusInput,c=e.onChange,a=e.fetchMovies;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"title",children:"Movie_app_02"}),Object(b.jsxs)("div",{className:"search__container",children:[Object(b.jsx)("h2",{children:"Movie title"}),Object(b.jsx)("input",{onChange:c,value:t,placeholder:"Enter a title to search",ref:n}),Object(b.jsx)("button",{onClick:a,children:"submit"})]})]})};var O=function(e){var t=e.nominees,n=e.setNominees,c=function(e){var c=e.target.parentElement.firstChild.innerText;console.log(c),n(t.filter((function(e){return e.id!==c})))};return 0===t.length?Object(b.jsx)("div",{}):Object(b.jsx)("div",{className:"nominations",children:Object(b.jsx)("ul",{children:t.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{className:"hidden",children:e.id}),Object(b.jsxs)("span",{className:"li",children:[e.title," (",e.year,")"]}),Object(b.jsx)("button",{onClick:c,children:"Remove"})]})}))})})};var m=function(e){e.api;var t=e.movies,n=e.onNomination;return t.length?Object(b.jsx)("div",{className:"resultFor",children:Object(b.jsx)("ul",{children:t.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{className:"hidden",children:e.imdbID}),Object(b.jsxs)("span",{className:"li",children:[e.Title," (",e.Year,")"]}),Object(b.jsx)("button",{onClick:n,children:"Nominate"})]},e.imdbID)}))})}):Object(b.jsx)("div",{})};var f=function(e){var t=e.focusBanner,n=e.setBanner;return Object(b.jsx)("div",{className:"banner",children:Object(b.jsx)("div",{className:"banner__content",children:Object(b.jsxs)("div",{className:"banner__text",children:[Object(b.jsx)("strong",{children:"Reminder: "})," You can nominate up to 5 movies",Object(b.jsx)("button",{ref:t,className:"button__close",onClick:function(){n(!1)},type:"button",children:Object(b.jsx)("span",{className:"button__span"})})]})})})},v=n(11),x=n.n(v);var p=function(){var e=Object(c.useState)({text:"",movies:[],find:!0}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),s=Object(d.a)(i,2),o=s[0],v=s[1],p=Object(c.useState)(!1),N=Object(d.a)(p,2),g=N[0],_=N[1],w=n.text,C=n.movies,k=n.find,y=Object(c.useRef)(),I=Object(c.useRef)(),M="https://www.omdbapi.com/?apikey=9cbee72",B=function(){var e=Object(l.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(M,"&&s=").concat(w));case 2:t=e.sent,c=t.data.Search,a(void 0===c?Object(u.a)(Object(u.a)({},n),{},{find:!1}):Object(u.a)(Object(u.a)({},n),{},{movies:c,find:!0})),y.current.focus();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,c,a,i,s,l,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(e){for(var t=0;t<e.length;t++)if(e[t].id===u.id)return!0;return!1},n=t.target.parentElement.firstChild.innerText,c="".concat(M,"&i=").concat(n),e.next=5,x.a.get(c);case 5:a=e.sent,i=a.data.imdbID,s=a.data.Year,l=a.data.Title,u={id:i,year:s,title:l},o.length<5?d(o)?(console.log(d(o)),console.log("duplicate!!")):v([].concat(Object(r.a)(o),[u])):(_(!0),I.current.focus());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{id:"container",children:[g&&Object(b.jsx)(f,{focusBanner:I,setBanner:_}),Object(b.jsx)(h,{focusInput:y,text:w,onChange:function(e){a(Object(u.a)(Object(u.a)({},n),{},{text:e.target.value}))},fetchMovies:B}),Object(b.jsxs)("div",{className:"smallContainer",children:[k?Object(b.jsx)(m,{api:M,movies:C,onNomination:S}):Object(b.jsx)("h3",{id:"noFindMessage",children:"We can not find any movie with the offered information"}),Object(b.jsx)(O,{nominees:o,setNominees:v})]})]})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[46,1,2]]]);
//# sourceMappingURL=main.1640be13.chunk.js.map